
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <style>
        .navbar {
            padding: 20px 60px 20px 60px;
            margin-bottom: 10px;
            background-color: #281616;
        }

        .nav-links {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
        }

        .nav-links li {
            margin: 0 15px;
            position: relative;
        }

        .nav-links li a, button {
            color: white;
            text-decoration: none;
            font-size: 18px;
            padding: 15px 15px;
            display: inline-block;
            transition: all 0.3s ease;
            background-color: #333;
            border-radius: 15px;
        }

        .nav-links li a:hover {
            background-color: #777;
            transform: translateY(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
        }

        button {
            border-style: none;
        }

        /* Dropdown Menu */
        .dropdown-menu {
            display: none;
            position: absolute;
            background-color: #444;
            list-style: none;
            padding: 20px 5px;
            min-width: 200px;
            top: 100%;
            left: 0;
            border-radius: 15px;
            z-index: 600;
        }

        .dropdown-menu li {
            display: block;
            text-align: left;
            margin-bottom: 10px;
        }

        .dropdown-menu li a {
            display: block;
            padding: 10px;
            color: white;
            margin-bottom: 30px;
        }

        .dropdown-menu li a:hover {
            background-color: #666;
        }

        button:hover{
            background-color: #666;
        }

        .dropdown:hover .dropdown-menu {
            display: block;
        }

        /* Mobile Menu Styles */
        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .menu-toggle .bar {
            width: 30px;
            height: 3px;
            background-color: white;
            margin: 5px 0;
        }

        /* Mobile Menu and Nav-Links */
        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
            }
            .nav-links.active {
                display: flex;
            }
            .dropdown-menu {
                position: relative;
            }
            .dropdown-menu.show {
                display: block;
            }
            #navbar-container{
                margin-bottom: 20px;
            }

            .dropdown{
                padding-bottom: 10px;
            }
        }

    </style>
</head>
<body>

    <nav class="navbar">
        <div class="menu-toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        
        <ul class="nav-links">
            <li class="dropdown">
                <a href="./game-management.html">Game Management ▾</a>
                <ul class="dropdown-menu">
                    <li><a href="./add-game.html">Add Games</a></li>
                    <li><a href="./update-game.html">Update Games</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="./category-management.html">Category Management ▾</a>
                <ul class="dropdown-menu">
                    <li><a href="./add-category.html">Add Category</a></li>
                    <li><a href="./update-category.html">Update Category</a></li>
                </ul>
            </li>
            
            <li><button onclick="logoutAdmin()">Logout</button></li>
        </ul>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navbarContainer = document.getElementById('navbar-container');
            
            if (navbarContainer) {
                fetch('./admin-navbar.html')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to load navbar');
                        }
                        return response.text();
                    })
                    .then(html => {
                        navbarContainer.innerHTML = html;
                        initializeNavbar();
                    })
                    .catch(error => {
                        console.error('Error loading navbar:', error);
                        navbarContainer.innerHTML = '<p>Error loading navigation menu</p>';
                    });
            }
        });

        function initializeNavbar() {
            const mobileMenu = document.getElementById('mobile-menu');
            const navLinks = document.querySelector('.nav-links');
            const searchContainer = document.querySelector('.navbar-search-container');
            
            function setupMobileLayout() {
                if (window.innerWidth <= 768) {
                    const navbarSearchContainer = navLinks.querySelector('.navbar-search-container');
                    if (navbarSearchContainer) {
                        navLinks.removeChild(navbarSearchContainer);
                        document.querySelector('.navbar').appendChild(navbarSearchContainer);
                    }
                } else {
                    const navbarSearchContainer = document.querySelector('.navbar > .navbar-search-container');
                    if (navbarSearchContainer && !navLinks.querySelector('.navbar-search-container')) {
                        document.querySelector('.navbar').removeChild(navbarSearchContainer);
                        const categoryItem = Array.from(navLinks.children).find(li => 
                            li.querySelector('a[href="categories.html"]'));
                        if (categoryItem) {
                            navLinks.insertBefore(navbarSearchContainer, categoryItem.nextSibling);
                        } else {
                            navLinks.appendChild(navbarSearchContainer);
                        }
                    }
                }
            }
            
            setupMobileLayout();
            
            if (mobileMenu) {
                mobileMenu.addEventListener('click', function() {
                    mobileMenu.classList.toggle('active');
                    navLinks.classList.toggle('active');
                });
            }
            
            const dropdowns = document.querySelectorAll('.dropdown');
            
            dropdowns.forEach(dropdown => {
                const link = dropdown.querySelector('a');
                const menu = dropdown.querySelector('.dropdown-menu');
                
                link.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        menu.classList.toggle('show');
                    }
                });
            });
            
            document.addEventListener('click', function(e) {
                if (navLinks && mobileMenu && !navLinks.contains(e.target) && !mobileMenu.contains(e.target) && navLinks.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                    navLinks.classList.remove('active');
                }
            });

            window.addEventListener('resize', function() {
                if (navLinks && mobileMenu && window.innerWidth > 768 && navLinks.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                    navLinks.classList.remove('active');
                    document.querySelectorAll('.dropdown-menu.show').forEach(menu => {
                        menu.classList.remove('show');
                    });
                }
                setupMobileLayout();
            });
        }

        function logoutAdmin() {
            localStorage.removeItem("token");
            localStorage.removeItem("role");
            window.location.href = "/admin/admin-login.html";
        }
    </script>

</body>
</html>
